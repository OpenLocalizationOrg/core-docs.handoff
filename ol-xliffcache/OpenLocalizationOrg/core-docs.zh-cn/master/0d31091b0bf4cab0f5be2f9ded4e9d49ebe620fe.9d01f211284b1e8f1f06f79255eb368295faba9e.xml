{"nodes":[{"pos":[11,33],"content":"Introduction to Events","needQuote":true,"nodes":[{"content":"Introduction to Events","pos":[0,22]}]},{"pos":[47,69],"content":"Introduction to Events","needQuote":true,"nodes":[{"content":"Introduction to Events","pos":[0,22]}]},{"pos":[80,95],"content":".NET, .NET Core","needQuote":true,"nodes":[{"content":".NET, .NET Core","pos":[0,15]}]},{"content":"Introduction to Events","pos":[303,325]},{"content":"Previous","pos":[328,336]},{"content":"Events are, like delegates, a <bpt id=\"p1\">*</bpt>late binding<ept id=\"p1\">*</ept> mechanism.","pos":[362,417],"source":"Events are, like delegates, a *late binding* mechanism."},{"content":"In fact, events are built on the language support for delegates.","pos":[418,482],"source":" In fact,\nevents are built on the language support for delegates."},{"content":"Events are a way for an object to broadcast (to all interested components in the system) that something has happened.","pos":[484,601],"source":"Events are a way for an object to broadcast (to all interested\ncomponents in the system) that something has happened."},{"content":"Any other component can subscribe to the event, and be notified when an event is raised.","pos":[602,690],"source":" Any other\ncomponent can subscribe to the event, and be notified when an event\nis raised."},{"content":"You've probably used events in some of your programming.","pos":[692,748]},{"content":"Many graphical systems have an event model to report user interaction.","pos":[749,819],"source":" Many graphical\nsystems have an event model to report user interaction."},{"content":"These events would report mouse movement, button presses and similar interactions.","pos":[820,902],"source":" These events would\nreport mouse movement, button presses and similar interactions."},{"content":"That's one of the most common, but certainly not the only scenario where events are used.","pos":[903,992],"source":" That's one\nof the most common, but certainly not the only scenario where events are\nused."},{"content":"You can define events that should be raised for your classes.","pos":[994,1055]},{"content":"One important consideration when working with events is that there may not be any object registered for a particular event.","pos":[1056,1179],"source":" One important\nconsideration when working with events is that there may not be any\nobject registered for a particular event."},{"content":"You must write your code so that it does not raise events when no listeners are configured.","pos":[1180,1271],"source":" You must write your code so that\nit does not raise events when no listeners are configured."},{"content":"Subscribing to an event also creates a coupling between two objects (the event source, and the event sink).","pos":[1273,1380],"source":"Subscribing to an event also creates a coupling between two objects (the event\nsource, and the event sink)."},{"content":"You need to ensure that the event sink unsubscribes from the event source when no longer interested in events.","pos":[1381,1491],"source":" You need to ensure that the event sink unsubscribes\nfrom the event source when no longer interested in events."},{"content":"Design Goals for Event Support","pos":[1496,1526]},{"content":"The language design for events targets these goals.","pos":[1528,1579]},{"content":"First, enable very minimal coupling between an event source and an event sink.","pos":[1581,1659],"source":"First, enable very minimal\ncoupling between an event source and an event sink."},{"content":"These two components may not be written by the same organization, and may even be updated on totally different schedules.","pos":[1660,1781],"source":" These two components may\nnot be written by the same organization, and may even be updated on totally\ndifferent schedules."},{"pos":[1783,1884],"content":"Secondly, it should be very simple to subscribe to an event, and to unsubscribe from that same event.","source":"Secondly, it should be very simple to subscribe to an event, and to\nunsubscribe from that same event."},{"content":"And finally, event sources should support multiple event subscribers.","pos":[1886,1955]},{"content":"It should also support having no event subscribers attached.","pos":[1956,2016],"source":" It should\nalso support having no event subscribers attached."},{"content":"You can see that the goals for events are very similar to the goals for delegates.","pos":[2018,2100]},{"content":"That's why the event language support is built on the delegate language support.","pos":[2101,2181],"source":"\nThat's why the event language support is built on the delegate language support."},{"content":"Language Support for Events","pos":[2186,2213]},{"pos":[2215,2336],"content":"The syntax for defining events, and subscribing or unsubscribing from events is an extension of the syntax for delegates.","source":"The syntax for defining events, and subscribing or unsubscribing from events is\nan extension of the syntax for delegates."},{"pos":[2338,2385],"content":"To define an event you use the <ph id=\"ph1\">`event`</ph> keyword:","source":"To define an event you use the `event` keyword:"},{"content":"The type of the event (<ph id=\"ph1\">`EventHandler&lt;FileListArgs&gt;`</ph> in this example) must be a delegate type.","pos":[2450,2543],"source":"The type of the event (`EventHandler<FileListArgs>` in this example) must be a\ndelegate type."},{"content":"There are a number of conventions that you should follow when declaring an event.","pos":[2544,2625],"source":" There are a number of conventions that you should follow\nwhen declaring an event."},{"content":"Typically, the event delegate type has a void return.","pos":[2626,2679]},{"content":"Prefix event declarations with 'On'.","pos":[2680,2716],"source":"\nPrefix event declarations with 'On'."},{"content":"The remainder of the name is a verb.","pos":[2717,2753],"source":"\nThe remainder of the name is a verb."},{"content":"Use past tense (as in this example) when the event reports something that has happened.","pos":[2754,2841],"source":" Use past tense (as in this example) when\nthe event reports something that has happened."},{"content":"Use a present tense verb (for example, <ph id=\"ph1\">`OnClosing`</ph>) to report something that is about to happen.","pos":[2842,2938],"source":" Use a present tense verb (for\nexample, `OnClosing`) to report something that is about to happen."},{"content":"Often, using present tense indicates that the event supports cancellation.","pos":[2939,3013],"source":" Often, using\npresent tense indicates that the event supports cancellation."},{"content":"For example, an <ph id=\"ph1\">`OnClosing`</ph> event may include an argument that would indicate if the close operation should continue, or not.","pos":[3014,3139],"source":" For example,\nan `OnClosing` event may include an argument that would indicate if the close\noperation should continue, or not."},{"pos":[3143,3233],"content":"When you want to raise the event, you call the event using the delegate invocation syntax:","source":"When you want to raise the event, you call the event using the delegate invocation\nsyntax:"},{"content":"As discussed in the section on <bpt id=\"p1\">[</bpt>delegates<ept id=\"p1\">](delegates-patterns.md)</ept>, the ?.","pos":[3296,3369],"source":"As discussed in the section on [delegates](delegates-patterns.md), the ?."},{"content":"operator makes it easy to ensure that you do not attempt to raise the event when there are no subscribers to that event.","pos":[3370,3490],"source":"\noperator makes it easy to ensure that you do not attempt to raise the event\nwhen there are no subscribers to that event."},{"pos":[3493,3546],"content":"You subscribe to an event by using the <ph id=\"ph1\">`+=`</ph> operator:","source":"You subscribe to an event by using the `+=` operator:"},{"pos":[3694,3734],"content":"You unsubscribe using the <ph id=\"ph1\">`-=`</ph> operator:","source":"You unsubscribe using the `-=` operator:"},{"content":"It's important to note that I declared a local variable for the expression that represents the event handler.","pos":[3777,3886],"source":"It's important to note that I declared a local variable for the expression that\nrepresents the event handler."},{"content":"That ensures the unsubscribe removes the handler.","pos":[3887,3936]},{"content":"If, instead, you used the body of the lambda expression, you are attempting to remove a handler that has never been attached, which does nothing.","pos":[3937,4082],"source":"\nIf, instead, you used the body of the lambda expression, you are attempting\nto remove a handler that has never been attached, which does nothing."},{"pos":[4084,4194],"content":"In the next article, you'll learn more about typical event patterns, and different variations on this example.","source":"In the next article, you'll learn more about typical event patterns, and\ndifferent variations on this example."},{"content":"Next","pos":[4197,4201]}],"content":"---\ntitle: Introduction to Events\ndescription: Introduction to Events\nkeywords: .NET, .NET Core\nauthor: BillWagner\nmanager: wpickett\nms.date: 06/20/2016\nms.topic: article\nms.prod: .net-core\nms.technology: .net-core-technologies\nms.devlang: dotnet\nms.assetid: 9b8d2a00-1584-4a5b-8994-5003d54d8e0c\n---\n\n# Introduction to Events\n\n[Previous](delegates-patterns.md)\n\nEvents are, like delegates, a *late binding* mechanism. In fact,\nevents are built on the language support for delegates.\n\nEvents are a way for an object to broadcast (to all interested\ncomponents in the system) that something has happened. Any other\ncomponent can subscribe to the event, and be notified when an event\nis raised.\n\nYou've probably used events in some of your programming. Many graphical\nsystems have an event model to report user interaction. These events would\nreport mouse movement, button presses and similar interactions. That's one\nof the most common, but certainly not the only scenario where events are\nused.\n\nYou can define events that should be raised for your classes. One important\nconsideration when working with events is that there may not be any\nobject registered for a particular event. You must write your code so that\nit does not raise events when no listeners are configured.\n\nSubscribing to an event also creates a coupling between two objects (the event\nsource, and the event sink). You need to ensure that the event sink unsubscribes\nfrom the event source when no longer interested in events.\n\n## Design Goals for Event Support\n\nThe language design for events targets these goals.\n\nFirst, enable very minimal\ncoupling between an event source and an event sink. These two components may\nnot be written by the same organization, and may even be updated on totally\ndifferent schedules.\n\nSecondly, it should be very simple to subscribe to an event, and to\nunsubscribe from that same event.\n\nAnd finally, event sources should support multiple event subscribers. It should\nalso support having no event subscribers attached.\n\nYou can see that the goals for events are very similar to the goals for delegates.\nThat's why the event language support is built on the delegate language support.\n\n## Language Support for Events\n\nThe syntax for defining events, and subscribing or unsubscribing from events is\nan extension of the syntax for delegates.\n\nTo define an event you use the `event` keyword:\n\n```cs\npublic event EventHandler<FileListArgs> OnProgress;\n```\n\nThe type of the event (`EventHandler<FileListArgs>` in this example) must be a\ndelegate type. There are a number of conventions that you should follow\nwhen declaring an event. Typically, the event delegate type has a void return.\nPrefix event declarations with 'On'.\nThe remainder of the name is a verb. Use past tense (as in this example) when\nthe event reports something that has happened. Use a present tense verb (for\nexample, `OnClosing`) to report something that is about to happen. Often, using\npresent tense indicates that the event supports cancellation. For example,\nan `OnClosing` event may include an argument that would indicate if the close\noperation should continue, or not.  \n\nWhen you want to raise the event, you call the event using the delegate invocation\nsyntax:\n\n```cs\nOnProgress?.Invoke(this, new FileListArgs(file));\n```\n\nAs discussed in the section on [delegates](delegates-patterns.md), the ?.\noperator makes it easy to ensure that you do not attempt to raise the event\nwhen there are no subscribers to that event.\n \nYou subscribe to an event by using the `+=` operator:\n\n```cs\nEventHandler<FileListArgs> handler = (sender, eventArgs) => \n    Console.WriteLine(eventArgs.FoundFile);\nlister.OnProgress += handler;\n```\n\nYou unsubscribe using the `-=` operator:\n\n```cs\nlister.OnProgress -= handler;\n```\n\nIt's important to note that I declared a local variable for the expression that\nrepresents the event handler. That ensures the unsubscribe removes the handler.\nIf, instead, you used the body of the lambda expression, you are attempting\nto remove a handler that has never been attached, which does nothing.\n\nIn the next article, you'll learn more about typical event patterns, and\ndifferent variations on this example.\n\n[Next](event-pattern.md)\n"}